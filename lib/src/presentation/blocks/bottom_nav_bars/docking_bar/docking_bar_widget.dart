part of "data.dart";

class DockingBarWidget extends StatefulWidget {
  const DockingBarWidget({super.key});

  @override
  State<DockingBarWidget> createState() => _DockingBarWidgetState();
}

class _DockingBarWidgetState extends State<DockingBarWidget> {
  int activeIndex = 0;

  List<String> icons = [
    DockingIcon.lense,
    DockingIcon.chat,
    DockingIcon.add,
    DockingIcon.color,
    DockingIcon.setting,
  ];

  Tween<double> tween = Tween<double>(begin: 1.0, end: 1.2);
  bool animationCompleted = false;

  @override
  Widget build(BuildContext context) {
    final theme = Theme.of(context);
    return Scaffold(
      body: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          Center(
            child: Container(
              clipBehavior: Clip.none,
              width: DockingBarAppSizing.width(context) * 0.8,
              padding: const EdgeInsets.symmetric(horizontal: 10, vertical: 10),
              decoration: BoxDecoration(
                color: theme.cardColor,
                borderRadius: BorderRadius.circular(15),
              ),
              child: TweenAnimationBuilder(
                  key: ValueKey(activeIndex),
                  tween: tween,
                  duration: Duration(milliseconds: animationCompleted ? 2000 : 200),
                  curve: animationCompleted ? Curves.elasticOut : Curves.easeOut, // Using bounce out curve
                  onEnd: () {
                    setState(() {
                      animationCompleted = true;
                      tween = Tween(begin: 1.5, end: 1.0);
                    });
                  },
                  builder: (context, value, child) {
                    return Row(
                      mainAxisAlignment: MainAxisAlignment.spaceBetween,
                      children: List.generate(icons.length, (i) {
                        return Transform(
                          alignment: Alignment.bottomCenter,
                          transform: Matrix4.identity()
                            ..scale(i == activeIndex ? value : 1.0)
                            ..translate(0.0, i == activeIndex ? 80.0 * (1 - value) : 0.0),
                          child: InkWell(
                            onTap: () {
                              setState(() {
                                animationCompleted = false;
                                tween = Tween(begin: 1.0, end: 1.2);
                                activeIndex = i;
                              });
                              // animate();
                            },
                            child: Container(
                              padding: const EdgeInsets.all(12),
                              decoration: BoxDecoration(
                                color: theme.highlightColor,
                                borderRadius: BorderRadius.circular(10),
                              ),
                              child: SvgPicture.string(icons[i]),
                            ),
                          ),
                        );
                      }),
                    );
                  }),
            ),
          )
        ],
      ),
    );
  }
}

class DockingBarAppSizing {
  static double width(BuildContext context) => MediaQuery.of(context).size.width;
  static double height(BuildContext context) => MediaQuery.of(context).size.height;
  static double kHPercentage(BuildContext context, double value) => (height(context) * value) / 100;
  static double kWPercentage(BuildContext context, double value) => (width(context) * value) / 100;
}

class DockingIcon {
  static const lense = '''<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
    xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#clip0_403_3467)">
        <path d="M23.9998 22.5867L17.7378 16.3247C19.3644 14.3353 20.1642 11.7968 19.9716 9.23426C19.7791 6.67173 18.609 4.28123 16.7034 2.55722C14.7977 0.833208 12.3024 -0.0924103 9.73342 -0.0281784C7.16447 0.0360534 4.71848 1.08522 2.9014 2.90231C1.08431 4.7194 0.0351378 7.16539 -0.029094 9.73434C-0.0933258 12.3033 0.832292 14.7987 2.5563 16.7043C4.28031 18.6099 6.67081 19.78 9.23334 19.9725C11.7959 20.1651 14.3344 19.3653 16.3238 17.7387L22.5858 24.0007L23.9998 22.5867ZM9.99978 18.0007C8.41753 18.0007 6.87081 17.5315 5.55522 16.6525C4.23963 15.7734 3.21425 14.524 2.60875 13.0622C2.00324 11.6004 1.84482 9.99182 2.1535 8.43997C2.46218 6.88813 3.22411 5.46266 4.34293 4.34384C5.46175 3.22502 6.88721 2.4631 8.43906 2.15441C9.99091 1.84573 11.5994 2.00416 13.0612 2.60966C14.5231 3.21516 15.7725 4.24054 16.6515 5.55614C17.5306 6.87173 17.9998 8.41845 17.9998 10.0007C17.9974 12.1217 17.1538 14.1551 15.654 15.6549C14.1542 17.1547 12.1208 17.9983 9.99978 18.0007Z" fill="#374957"/>
    </g>
    <defs>
        <clipPath id="clip0_403_3467">
            <rect width="24" height="24" fill="white"/>
        </clipPath>
    </defs>
</svg>
''';
  static const chat = '''<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
    xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#clip0_403_3671)">
        <path d="M23.9999 24H12.0179C9.67684 23.9989 7.38728 23.3131 5.43117 22.027C3.47506 20.7409 1.93785 18.9108 1.00886 16.762C0.0798767 14.6132 -0.200302 12.2396 0.202835 9.93353C0.605972 7.62749 1.67482 5.48972 3.27772 3.78354C4.88062 2.07737 6.94758 0.877292 9.22399 0.331138C11.5004 -0.215015 13.8869 -0.0833956 16.0894 0.709785C18.2919 1.50297 20.2144 2.92307 21.6199 4.79517C23.0255 6.66727 23.8528 8.90961 23.9999 11.246V11.309V24ZM12.0179 2C9.36569 2 6.82215 3.05357 4.94679 4.92893C3.07142 6.8043 2.01785 9.34784 2.01785 12C2.01785 14.6522 3.07142 17.1957 4.94679 19.0711C6.82215 20.9464 9.36569 22 12.0179 22H21.9999V11.341C21.8284 8.80932 20.7026 6.43703 18.8498 4.70323C16.997 2.96943 14.5553 2.00332 12.0179 2Z" fill="#374957"/>
        <path d="M13.0002 6.99988H7.00024V8.99987H13.0002V6.99988Z" fill="#374957"/>
        <path d="M17.0002 11.0001H7.00024V13.0001H17.0002V11.0001Z" fill="#374957"/>
        <path d="M17.0002 15H7.00024V17H17.0002V15Z" fill="#374957"/>
    </g>
    <defs>
        <clipPath id="clip0_403_3671">
            <rect width="24" height="24" fill="white"/>
        </clipPath>
    </defs>
</svg>
    ''';
  static const add = '''
<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
    xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#clip0_403_3418)">
        <path d="M12 0C9.62662 0 7.30654 0.703788 5.33315 2.02236C3.35976 3.34094 1.82169 5.21509 0.913443 7.4078C0.0051918 9.60051 -0.232448 12.0133 0.230574 14.3411C0.693597 16.6689 1.83649 18.8071 3.51472 20.4853C5.19295 22.1635 7.33114 23.3064 9.65891 23.7694C11.9867 24.2324 14.3995 23.9948 16.5922 23.0866C18.7849 22.1783 20.6591 20.6402 21.9776 18.6668C23.2962 16.6935 24 14.3734 24 12C23.9966 8.81846 22.7312 5.76821 20.4815 3.51852C18.2318 1.26883 15.1815 0.00344108 12 0V0ZM12 22C10.0222 22 8.08879 21.4135 6.4443 20.3147C4.7998 19.2159 3.51808 17.6541 2.7612 15.8268C2.00433 13.9996 1.80629 11.9889 2.19215 10.0491C2.578 8.10929 3.5304 6.32746 4.92893 4.92893C6.32746 3.53041 8.10929 2.578 10.0491 2.19215C11.9889 1.8063 13.9996 2.00433 15.8268 2.7612C17.6541 3.51808 19.2159 4.79981 20.3147 6.4443C21.4135 8.08879 22 10.0222 22 12C21.9971 14.6513 20.9426 17.1931 19.0679 19.0679C17.1931 20.9426 14.6513 21.9971 12 22ZM13 11H17V13H13V17H11V13H7V11H11V7H13V11Z" fill="#374957"/>
    </g>
    <defs>
        <clipPath id="clip0_403_3418">
            <rect width="24" height="24" fill="white"/>
        </clipPath>
    </defs>
</svg>
        ''';
  static const color = '''<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
    xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#clip0_403_3735)">
        <path d="M17.4998 10.9997C18.3282 10.9997 18.9998 10.3281 18.9998 9.49969C18.9998 8.67127 18.3282 7.99969 17.4998 7.99969C16.6714 7.99969 15.9998 8.67127 15.9998 9.49969C15.9998 10.3281 16.6714 10.9997 17.4998 10.9997Z" fill="#374957"/>
        <path d="M12.4997 7.99969C13.3281 7.99969 13.9997 7.32812 13.9997 6.49969C13.9997 5.67127 13.3281 4.99969 12.4997 4.99969C11.6713 4.99969 10.9997 5.67127 10.9997 6.49969C10.9997 7.32812 11.6713 7.99969 12.4997 7.99969Z" fill="#374957"/>
        <path d="M7.5 10.9997C8.32843 10.9997 9 10.3281 9 9.49969C9 8.67127 8.32843 7.99969 7.5 7.99969C6.67157 7.99969 6 8.67127 6 9.49969C6 10.3281 6.67157 10.9997 7.5 10.9997Z" fill="#374957"/>
        <path d="M7.5 16.9997C8.32843 16.9997 9 16.3281 9 15.4997C9 14.6713 8.32843 13.9997 7.5 13.9997C6.67157 13.9997 6 14.6713 6 15.4997C6 16.3281 6.67157 16.9997 7.5 16.9997Z" fill="#374957"/>
        <path d="M12.0828 23.9999C9.69204 23.9997 7.35585 23.2854 5.3738 21.9485C3.39174 20.6117 1.85419 18.7133 0.958287 16.4967C0.062389 14.2802 -0.151008 11.8466 0.345462 9.50796C0.841932 7.16933 2.02564 5.0323 3.74478 3.37091C4.89959 2.24563 6.27129 1.36709 7.77641 0.78877C9.28153 0.210447 10.8886 -0.0555689 12.4998 0.00691313C15.5445 0.149026 18.4248 1.4299 20.5696 3.59564C22.7144 5.76139 23.9672 8.65393 24.0798 11.6999C24.1205 13.2533 23.8572 14.7996 23.3048 16.2519C23.1923 16.5478 23.0073 16.8107 22.7667 17.0163C22.526 17.222 22.2376 17.3639 21.9278 17.4289C21.6129 17.4983 21.2856 17.4869 20.9763 17.3958C20.667 17.3047 20.3858 17.1369 20.1588 16.9079L20.0588 16.8079C19.5581 16.3072 18.9197 15.9669 18.2249 15.8303C17.5301 15.6937 16.8104 15.7669 16.1574 16.0407C15.5044 16.3145 14.9477 16.7765 14.5581 17.3677C14.1685 17.959 13.9637 18.6529 13.9698 19.3609L14.0098 23.8769L13.0858 23.9539C12.7528 23.9779 12.4208 23.9999 12.0828 23.9999ZM12.0828 1.99991C9.43062 1.98798 6.88234 3.0301 4.99853 4.89703C3.11473 6.76395 2.04972 9.30275 2.03778 11.9549C2.02585 14.6071 3.06797 17.1554 4.93489 19.0392C6.80182 20.923 9.34062 21.988 11.9928 21.9999L11.9688 19.3749C11.9643 18.6359 12.106 17.9033 12.386 17.2194C12.6659 16.5354 13.0784 15.9137 13.5998 15.3899C14.6441 14.3469 16.0598 13.7611 17.5358 13.7611C19.0118 13.7611 20.4274 14.3469 21.4718 15.3899L21.4858 15.4039C21.9124 14.2339 22.1143 12.9938 22.0808 11.7489C21.9873 9.21146 20.944 6.8017 19.1576 4.99718C17.3713 3.19265 14.9722 2.12505 12.4358 2.00591C12.3168 1.99991 12.1998 1.99991 12.0818 1.99991H12.0828Z" fill="#374957"/>
    </g>
    <defs>
        <clipPath id="clip0_403_3735">
            <rect width="24" height="24" fill="white"/>
        </clipPath>
    </defs>
</svg>
    ''';
  static const setting = '''<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
    xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#clip0_403_3223)">
        <path d="M12.0001 8.00061C11.209 8.00061 10.4356 8.23521 9.77781 8.67473C9.12002 9.11426 8.60733 9.73897 8.30458 10.4699C8.00182 11.2008 7.92261 12.005 8.07695 12.781C8.23129 13.5569 8.61226 14.2696 9.17167 14.829C9.73108 15.3884 10.4438 15.7694 11.2197 15.9238C11.9957 16.0781 12.7999 15.9989 13.5308 15.6961C14.2617 15.3934 14.8864 14.8807 15.326 14.2229C15.7655 13.5651 16.0001 12.7917 16.0001 12.0006C16.0001 10.9397 15.5787 9.92233 14.8285 9.17218C14.0784 8.42204 13.061 8.00061 12.0001 8.00061ZM12.0001 14.0006C11.6045 14.0006 11.2179 13.8833 10.889 13.6635C10.5601 13.4438 10.3037 13.1314 10.1523 12.766C10.001 12.4005 9.96135 11.9984 10.0385 11.6104C10.1157 11.2225 10.3062 10.8661 10.5859 10.5864C10.8656 10.3067 11.222 10.1162 11.6099 10.039C11.9979 9.96187 12.4 10.0015 12.7655 10.1529C13.1309 10.3042 13.4433 10.5606 13.663 10.8895C13.8828 11.2184 14.0001 11.605 14.0001 12.0006C14.0001 12.531 13.7894 13.0398 13.4143 13.4148C13.0392 13.7899 12.5305 14.0006 12.0001 14.0006Z" fill="#374957"/>
        <path d="M21.294 13.9L20.85 13.644C21.0499 12.5564 21.0499 11.4416 20.85 10.354L21.294 10.098C21.6355 9.90102 21.9348 9.63871 22.1748 9.32606C22.4149 9.01341 22.591 8.65654 22.6932 8.27582C22.7953 7.8951 22.8215 7.49799 22.7702 7.10716C22.7188 6.71633 22.591 6.33944 22.394 5.998C22.1971 5.65656 21.9348 5.35727 21.6221 5.1172C21.3095 4.87714 20.9526 4.70101 20.5719 4.59886C20.1911 4.49672 19.794 4.47056 19.4032 4.52189C19.0124 4.57321 18.6355 4.70102 18.294 4.898L17.849 5.155C17.0086 4.43692 16.0427 3.88025 15 3.513V3C15 2.20435 14.684 1.44129 14.1214 0.87868C13.5588 0.31607 12.7957 0 12 0C11.2044 0 10.4413 0.31607 9.87872 0.87868C9.31611 1.44129 9.00004 2.20435 9.00004 3V3.513C7.95743 3.88157 6.99189 4.4396 6.15204 5.159L5.70504 4.9C5.01548 4.50218 4.19612 4.39457 3.42723 4.60086C2.65833 4.80715 2.00287 5.31044 1.60504 6C1.20722 6.68956 1.09962 7.50892 1.30591 8.27782C1.5122 9.04672 2.01548 9.70218 2.70504 10.1L3.14904 10.356C2.94915 11.4436 2.94915 12.5584 3.14904 13.646L2.70504 13.902C2.01548 14.2998 1.5122 14.9553 1.30591 15.7242C1.09962 16.4931 1.20722 17.3124 1.60504 18.002C2.00287 18.6916 2.65833 19.1948 3.42723 19.4011C4.19612 19.6074 5.01548 19.4998 5.70504 19.102L6.15004 18.845C6.99081 19.5632 7.95702 20.1199 9.00004 20.487V21C9.00004 21.7956 9.31611 22.5587 9.87872 23.1213C10.4413 23.6839 11.2044 24 12 24C12.7957 24 13.5588 23.6839 14.1214 23.1213C14.684 22.5587 15 21.7956 15 21V20.487C16.0427 20.1184 17.0082 19.5604 17.848 18.841L18.295 19.099C18.9846 19.4968 19.804 19.6044 20.5729 19.3981C21.3418 19.1918 21.9972 18.6886 22.395 17.999C22.7929 17.3094 22.9005 16.4901 22.6942 15.7212C22.4879 14.9523 21.9846 14.2968 21.295 13.899L21.294 13.9ZM18.746 10.124C19.0847 11.3511 19.0847 12.6469 18.746 13.874C18.6869 14.0876 18.7004 14.3147 18.7844 14.5198C18.8684 14.7249 19.0181 14.8963 19.21 15.007L20.294 15.633C20.5239 15.7656 20.6916 15.9841 20.7603 16.2403C20.829 16.4966 20.7932 16.7697 20.6605 16.9995C20.5279 17.2293 20.3095 17.397 20.0532 17.4658C19.7969 17.5345 19.5239 17.4986 19.294 17.366L18.208 16.738C18.0159 16.6267 17.7923 16.5826 17.5723 16.6124C17.3523 16.6423 17.1485 16.7445 16.993 16.903C16.103 17.8117 14.9816 18.46 13.75 18.778C13.5351 18.8333 13.3446 18.9585 13.2086 19.1339C13.0727 19.3094 12.9989 19.525 12.999 19.747V21C12.999 21.2652 12.8937 21.5196 12.7062 21.7071C12.5186 21.8946 12.2643 22 11.999 22C11.7338 22 11.4795 21.8946 11.2919 21.7071C11.1044 21.5196 10.999 21.2652 10.999 21V19.748C10.9992 19.526 10.9254 19.3104 10.7894 19.1349C10.6535 18.9595 10.463 18.8343 10.248 18.779C9.01639 18.4597 7.89537 17.81 7.00604 16.9C6.85057 16.7415 6.64678 16.6393 6.4268 16.6094C6.20682 16.5796 5.98315 16.6237 5.79104 16.735L4.70704 17.362C4.59327 17.4287 4.46743 17.4722 4.33677 17.4901C4.2061 17.508 4.0732 17.4998 3.9457 17.4661C3.8182 17.4324 3.69862 17.3738 3.59386 17.2937C3.4891 17.2136 3.40122 17.1135 3.33528 16.9993C3.26934 16.8851 3.22664 16.759 3.20964 16.6282C3.19264 16.4974 3.20168 16.3646 3.23623 16.2373C3.27079 16.11 3.33017 15.9909 3.41098 15.8866C3.49178 15.7824 3.5924 15.6952 3.70704 15.63L4.79104 15.004C4.98299 14.8933 5.13272 14.7219 5.2167 14.5168C5.30069 14.3117 5.31417 14.0846 5.25504 13.871C4.9164 12.6439 4.9164 11.3481 5.25504 10.121C5.31311 9.90788 5.29898 9.68153 5.21486 9.47729C5.13074 9.27305 4.98136 9.10241 4.79004 8.992L3.70604 8.366C3.47623 8.23339 3.30851 8.01492 3.23978 7.75865C3.17105 7.50239 3.20693 7.22931 3.33954 6.9995C3.47215 6.76969 3.69062 6.60197 3.94689 6.53324C4.20316 6.46451 4.47623 6.50039 4.70604 6.633L5.79204 7.261C5.98362 7.37251 6.20682 7.41721 6.42657 7.38807C6.64632 7.35893 6.85015 7.25759 7.00604 7.1C7.89613 6.19134 9.01747 5.54302 10.249 5.225C10.4647 5.16956 10.6556 5.04375 10.7917 4.8675C10.9277 4.69125 11.001 4.47464 11 4.252V3C11 2.73478 11.1054 2.48043 11.2929 2.29289C11.4805 2.10536 11.7348 2 12 2C12.2653 2 12.5196 2.10536 12.7071 2.29289C12.8947 2.48043 13 2.73478 13 3V4.252C12.9999 4.47396 13.0737 4.68964 13.2096 4.86508C13.3456 5.04052 13.5361 5.16573 13.751 5.221C14.9831 5.54015 16.1044 6.18988 16.994 7.1C17.1495 7.25847 17.3533 7.36069 17.5733 7.39057C17.7933 7.42044 18.0169 7.37626 18.209 7.265L19.293 6.638C19.4068 6.5713 19.5327 6.52777 19.6633 6.5099C19.794 6.49204 19.9269 6.50019 20.0544 6.5339C20.1819 6.56761 20.3015 6.6262 20.4062 6.70631C20.511 6.78642 20.5989 6.88646 20.6648 7.00067C20.7307 7.11488 20.7734 7.24101 20.7904 7.37179C20.8074 7.50257 20.7984 7.63542 20.7639 7.76269C20.7293 7.88997 20.6699 8.00915 20.5891 8.11337C20.5083 8.2176 20.4077 8.30482 20.293 8.37L19.209 8.996C19.0181 9.10671 18.8691 9.27748 18.7854 9.48169C18.7016 9.68591 18.6878 9.9121 18.746 10.125V10.124Z" fill="#374957"/>
    </g>
    <defs>
        <clipPath id="clip0_403_3223">
            <rect width="24" height="24" fill="white"/>
        </clipPath>
    </defs>
</svg>
    ''';
}
